<!DOCTYPE html>

<link rel=stylesheet type='text/css' href='style.css'></link>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>WebSockets Demo</title>
</head>
<body ng-app='app'>
  <div id="page-wrapper">
    <h1>WebDump</h1>

    <ul id="messages"></ul>
<div ng-controller='demo' ng-init='initialize()'>
<button ng-click='clearMessages()'>ClearAll</button>
<button ng-click='addMessage()'>Add message</button>

    <h2>Messages</h2>

	<h3>
		<button ng-click='toggleTrashVisibility()'>{{trashVisible ? '-' : '+'}}</button>Trash</h3>
		<div ng-show='trashVisible' ng-repeat='model in trash'>
			<div id='mess{{model.id}}'>{{model.content}}</div>
		</div>
	<h3>Dumps</h3>
		<div ng-repeat='model in messages'>
			<div id='mess{{model.id}}'>{{model.content}}</div>
		</div>
	</div>

</body>
</html>

<script src='js/jquery-2.2.1.min.js'></script>
<script src='js/angular.min.js'></script>


<script type="text/javascript">

angular.module('app', [])
.controller('demo',[ '$scope', function($scope) {
	$scope.messages = [];
	$scope.trash = [];
	$scope.id = 1;
	$scope.trashVisible = false;

	$scope.addMessage = function() {
	    var message = { id: $scope.id, content: "Message #" + $scope.id++ };
		$scope.messages.push(message);
	}
	$scope.clearMessages = function() {
		$scope.trash = $scope.trash.concat($scope.messages);
		$scope.messages = [];
	}
	$scope.toggleTrashVisibility = function() {
		$scope.trashVisible = !$scope.trashVisible;
	}

	$scope.initialize = function() {
		$scope.addMessage();
		$scope.addMessage();
		$scope.addMessage();
		$scope.addMessage();
		$scope.clearMessages();
		$scope.addMessage();	
	}
	
} ] );


</script>